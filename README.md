# ูุดุฑูุน the-copy - ุงููุญูู ุงูุฏุฑุงูู ูุงููุจุฏุน ุงููุญุงูู

## ๐ญ ูุธุฑุฉ ุนุงูุฉ

ูุดุฑูุน **the-copy** ูู ุจูุฆุฉ ุชุทููุฑ ูุชูุงููุฉ (IDE) ูุฎุตุตุฉ ููุชุงุจุฉ ูุชุญููู ุงูุณููุงุฑูููุงุช ุจุงููุบุฉ ุงูุนุฑุจูุฉุ ูุน ูุงุฌูุฉ ุญุฏูุซุฉ ุชุนุชูุฏ ุนูู **React + Vite** ููู Frontendุ ู **Node.js + Express + PostgreSQL** ููู Backend.

ุงููุดุฑูุน ูุฌูุน ุจูู:
- **ูุญุฑุฑ ุงูุณููุงุฑูู ุงููุชูุฏู**: ูุน ุชุตุญูุญ ุชููุงุฆู ูุชุญููู ุฐูู
- **ุงููุญูู ุงูุฏุฑุงูู ูุงููุจุฏุน ุงููุญุงูู**: ูุธุงู ุชุญููู ูุชุทูุฑ ูุนูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ - ุงููุญูู ุงูุฏุฑุงูู

### ๐ ุฃููุงุน ุงูุชุญููู ุงููุชุงุญุฉ

#### 1. ุชุญููู ุงููุตูุต ุงูุฏุฑุงููุฉ
- **ุงูุชุญููู ุงูุชุดุฎูุตู ุงูุดุงูู**: ุชูุฑูุฑ ูุนูู ูุบุทู ุงูุจููุฉุ ุงูุญูุงุฑุ ูุงูุฅููุงุน
- **ุชุญููู ุงูุฌุฏูู ุงูุชุฌุงุฑูุฉ**: ุชูููู ุฅููุงููุงุช ุงููุฌุงุญ ุงูุชุฌุงุฑู ูุงูุฌูููุฑ ุงููุณุชูุฏู
- **ุชุญููู ุจุตูุฉ ุงููุงุชุจ**: ุฏุฑุงุณุฉ ุงูุฃุณููุจ ุงููุฑูุฏ ูููุงุชุจ ูู ุงูุญูุงุฑ ูุงูุณุฑุฏ
- **ุชุญููู ุงูุดุฎุตูุงุช ุงููุนูู**: ูููุงุช ููุณูุฉ ูุฏุฑุงููุฉ ูุชูุงููุฉ ููุดุฎุตูุงุช
- **ุงูุชุญููู ุงูููู**: ุชูููู ููู ูููุต ุนุจุฑ ูุนุงููุฑ ูุชุนุฏุฏุฉ

#### 2. ุงูุฅุจุฏุงุน ูุงููุญุงูุงุฉ
- **ุฅูุชุงุฌ ูุญุชูู ุฅุจุฏุงุนู**: ูุญุงูุงุฉ ุฃุณููุจ ุงููุงุชุจ ุงูุฃุตูู
- **ุงุณุชููุงู ุงููุตูุต**: ุฅููุงู ุงููุตูุต ุงููุงูุตุฉ ุจุฐูุงุก ุชูุจุคู
- **ุงูุชูุงูู ุงูุฐูู**: ุฏูุฌ ุงูุชุญููู ูุน ุงูุฅุจุฏุงุน ุงูุชูููุฏู

### ๐ค ุฃููุงุท ุงูุชูุงุนู ุงููุชุนุฏุฏุฉ

#### ๐ผ ุงูุชุญููู ุงููุฑุฏู
ุชุญููู ุชูููุฏู ุจุฎุจูุฑ ูุงุญุฏ ูุชุฎุตุต ูุน ุงุฎุชูุงุฑ ููุน ุงูุชุญููู ุงููุทููุจ

#### ๐ฌ ุงููุญุงุฏุซุฉ ุงูุชูุงุนููุฉ
ุญูุงุฑ ูุจุงุดุฑ ูุน ุฎุจุฑุงุก ูุชุฎุตุตูู:
- **ุงููุญูู ุงูุฏุฑุงูู ุงูุฑุฆูุณู**: ุฎุจูุฑ ูู ุงูุจููุฉ ุงูุฏุฑุงููุฉ ูุงูุญุจูุฉ
- **ุฎุจูุฑ ุงูุดุฎุตูุงุช**: ูุชุฎุตุต ูู ุงูุชุญููู ุงูููุณู ููุดุฎุตูุงุช
- **ูุญูู ุงูุณูู (ุณุญุฑ)**: ุฎุจูุฑุฉ ูู ุงูุฌุฏูู ุงูุชุฌุงุฑูุฉ ูุงูุฌูููุฑ
- **ูุญูู ุจุตูุฉ ุงููุงุชุจ**: ูุชุฎุตุต ูู ุชุญููู ุงูุฃุณููุจ ุงูุฃุฏุจู
- **ุงููุณุงุนุฏ ุงูุฅุจุฏุงุนู**: ูุฎุชุต ูู ุงููุชุงุจุฉ ูุงููุญุงูุงุฉ

#### ๐ค ุญูุงุฑ ุงูุณุฑุจ
ุญูุงุฑ ุฌูุงุนู ุจูู ุนุฏุฉ ุฎุจุฑุงุก ููุญุตูู ุนูู ุชุญููู ุดุงูู ููุชุนุฏุฏ ุงูุฃุจุนุงุฏ

### ๐ ูุนุงูุฌุฉ ุงููููุงุช ุงููุชูุฏูุฉ
- **ุฑูุน ูุชุนุฏุฏ ุงูุตูุบ**: ุฏุนู ุงููุตูุต (.txt, .md)ุ ุงูุตูุฑุ ููููุงุช PDF
- **ูุนุงูุฌุฉ ุฐููุฉ**: ุชุญููู ุงููุญุชูู ูุตูุบุฉ ููุงุณุจุฉ ูู Gemini API
- **ุฏุนู ุงููุญุชูู ุงูุนุฑุจู**: ูุงุฌูุฉ RTL ูุตููุฉ ุฎุตูุตุงู ูููุญุชูู ุงูุนุฑุจู

### ๐ ุนุฑุถ ุงููุชุงุฆุฌ ุงููุชุทูุฑ
- **ุชูุณูู Markdown**: ุนุฑุถ ููุธู ูุฌููู ููุชุญูููุงุช
- **ุฅููุงููุงุช ุงูุชุตุฏูุฑ**: ุชุญููู ุงููุชุงุฆุฌ ููููุงุช Markdown
- **ูุณุฎ ุณุฑูุน**: ูุณุฎ ุฃูุณุงู ุฃู ุงูุชุญููู ูุงููุงู
- **ุฅุญุตุงุฆูุงุช ููุตูุฉ**: ุนุฏุฏ ุงููููุงุชุ ุงูุฃุญุฑูุ ูููุช ุงููุฑุงุกุฉ ุงูููุฏุฑ

---

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

## ูข. ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

* **Node.js** โฅ 20
* **npm** โฅ 9
* **PostgreSQL** โฅ 15 (ุงุฎุชูุงุฑู)
* **Redis** (ุงุฎุชูุงุฑู)
* **Git**
* **ููุชุงุญ Gemini API** ููุชุญููู ุงูุฐูู
* ุจูุฆุฉ ุชุดุบูู Linux ุฃู macOS ุฃู Windows

---

## ูฃ. ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ ุงูุณุฑูุน

### ๐ ุงูุชุซุจูุช ุงูุชููุงุฆู (ููุตู ุจู)

```bash
git clone https://github.com/sinsweatpants/the-copy.git
cd the-copy
chmod +x setup.sh
./setup.sh
```

### โ๏ธ ุงูุชุซุจูุช ุงููุฏูู

```bash
git clone https://github.com/sinsweatpants/the-copy.git
cd the-copy
npm ci
```

### ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

#### backend/.env.production

```
NODE_ENV=production
PORT=4000

# ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุงุฎุชูุงุฑู)
DATABASE_URL=postgres://user:password@localhost:5432/thecopy
DISABLE_DB=true  # ุงุชุฑููุง true ุฅุฐุง ููุช ูุง ุชุฑูุฏ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

# Redis (ุงุฎุชูุงุฑู)
REDIS_URL=redis://localhost:6379
DISABLE_REDIS=true

# ููุงุชูุญ JWT (ูุทููุจุฉ)
JWT_SECRET=ุถุน_ูููุฉ_ูููุฉ_ุทูููุฉ_ููุง
REFRESH_TOKEN_SECRET=ุถุน_ูููุฉ_ูููุฉ_ุทูููุฉ_ุฃุฎุฑู

# ููุชุงุญ Gemini (ูุทููุจ ูููุญูู ุงูุฏุฑุงูู)
GEMINI_API_KEY=ุถุน_ููุชุงุญ_ุฌููููุงู_ููุง

# ุนููุงู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
FRONTEND_ORIGIN=http://localhost:4173
```

#### frontend/.env.production

```
VITE_API_BASE=http://localhost:4000/api
```

### ุจูุงุก ุงููุดุฑูุน

```bash
npm run build
```

---

## ูค. ุงูุชุดุบูู

### ๐ฅ ุจูุฆุฉ ุงูุชุทููุฑ

```bash
npm run dev
```

ุณููุชุญ ุงููุดุฑูุน ุนูู:
- Frontend: http://localhost:5173
- Backend: http://localhost:4000

### ๐ ุจูุฆุฉ ุงูุฅูุชุงุฌ

```bash
npm run start:prod
```

ุณูุนูู ุนูู:
- ุงูุฎุงุฏู ุงููุฏูุฌ: http://localhost:4000

---

## ูฅ. ุงูุงุณุชุฎุฏุงู

### ๐ ูุญุฑุฑ ุงูุณููุงุฑูู
1. ุงุฎุชุฑ "ุงููุญุฑุฑ" ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. ุงุจุฏุฃ ุงููุชุงุจุฉ ูุน ุงูุชุตุญูุญ ุงูุชููุงุฆู
3. ุงุณุชุฎุฏู ุฃุฏูุงุช ุงูุชุญููู ุงููุฏูุฌุฉ

### ๐ญ ุงููุญูู ุงูุฏุฑุงูู
1. ุงุฎุชุฑ "ุงููุญูู ุงูุฏุฑุงูู" ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. ุงุฑูุน ูููุงุชู (ูุตูุตุ PDFุ ุตูุฑ)
3. ุงุฎุชุฑ ููุท ุงูุชุญููู ุงูููุงุณุจ:
   - **ุงูุชุญููู ุงููุฑุฏู**: ุชุญููู ูุฎุตุต ุจุฎุจูุฑ ูุงุญุฏ
   - **ุงููุญุงุฏุซุฉ ุงูุชูุงุนููุฉ**: ุญูุงุฑ ูุน ุฎุจูุฑ ูุชุฎุตุต
   - **ุญูุงุฑ ุงูุณุฑุจ**: ููุงูุดุฉ ุฌูุงุนูุฉ ุจูู ุนุฏุฉ ุฎุจุฑุงุก
4. ุงุญุตู ุนูู ุชุญููู ููุตู ููุงุจู ููุชุตุฏูุฑ

---

## ูค. ุงููุนูุงุฑูุฉ

* **Frontend**: React + Vite โ ูุชูุงุตู ูุน API ุนุจุฑ `VITE_API_BASE`.
* **Backend**: Express + Node.js ูุน middleware ููุฃูุงู (JWT, Helmet, Rate Limits).
* **Database**: PostgreSQL ูุน ุณูุงุณุงุช RLS.
* **Redis**: ุฏุนู ุงุฎุชูุงุฑู ูุนูููุงุช ุงูุทูุงุจูุฑ (BullMQ) ูุงููุงุด.
* **LLM Integration**: ุนุจุฑ ูุงุฌูุฉ `/api/llm/generate` ุจุงุณุชุฎุฏุงู ููุชุงุญ Gemini.

---

## ูฅ. ุงูุฃูุงู

* **JWT Authentication** ูุญูุงูุฉ ุฌููุน ุงูู routes ุงูุญุณุงุณุฉ.
* **Row-Level Security (RLS)** ูู PostgreSQL ูุน ูุธููุฉ `current_user_id()`.
* **CORS** ูุถุจูุท ุนูู ูุทุงูุงุช ููุซููุฉ ููุท.
* **Helmet** ูุชุฃููู ุงูููุฏุฑ.
* **Rate Limiting** ูููุน ุฅุณุงุกุฉ ุงูุงุณุชุฎุฏุงู.
* **Logging** ุจุงุณุชุฎุฏุงู Pino ูุน ุฅุฎูุงุก ุงูุญููู ุงูุญุณุงุณุฉ (Tokens, Passwords).
* **Secret Management** ุนุจุฑ ูููุงุช env ููุท (ุจุฏูู ุฃู secrets ูู ุงูููุฏ).

---

## ูฆ. ุงูู API

### Endpoints ุฑุฆูุณูุฉ

* **Auth**

  * `POST /api/auth/login`
  * `POST /api/auth/register`
  * `POST /api/auth/refresh`
* **LLM**

  * `POST /api/llm/generate` โ ูุชุทูุจ JWT
* **Exports**

  * `POST /api/export` โ ูุชุตุฏูุฑ ุงููููุงุช
* **Health**

  * `GET /api/health` โ ูุนุฑุถ ุญุงูุฉ DB, Redis, uptime, memory

---

## ูง. ุงููุฑุงูุจุฉ

* **Health Check** endpoint
* **PM2** ูุฅุฏุงุฑุฉ ุงูุนูููุงุช (ecosystem.config.js) ูุน auto-restart.
* **Structured Logging** ุนุจุฑ Pino ุจุตูุบุฉ JSON.
* **Performance Monitoring**: ุฃููุงุช ุงุณุชุฌุงุจุฉ < 100ms ูู ุงููุชูุณุท.

---

## ูจ. ุงููุณุฎ ุงูุงุญุชูุงุทู

* ุณูุฑุจุช `scripts/backup_db.sh`
* ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููููุฉ ุจูุณู ุฒููู.
* ุงูุงุญุชูุงุธ ุจุขุฎุฑ ูง ุฃูุงู ููุท.
* ุชุดุบูู ุชููุงุฆู ุนุจุฑ cron job.

---

## ูฉ. ุงูุงุฎุชุจุงุฑุงุช

* **Backend**: Jest
* **Frontend**: Vitest
* **CI/CD**: GitHub Actions (build + lint + test + audit + secret-scan).
* ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุชูุฑ ุจูุฌุงุญ ูุญูููุง ููู CI.

---

## ูกู. ุงููุดุฑ

* **Build**

  ```bash
  npm run build --workspace=backend
  npm run build --workspace=frontend
  ```
* **ุชุดุบูู**

  ```bash
  NODE_ENV=production node backend/dist/server.js
  npm run preview --workspace=frontend
  ```
* Backend ูุนูู ุนูู ุงููููุฐ 4000
* Frontend ูุนูู ุนูู ุงููููุฐ 4173

---

## ูกูก. ููุงุญุธุงุช ุฅุถุงููุฉ

* **Redis** ูุนุทูู ุงูุชุฑุงุถููุง (`REDIS_ENABLED=false`).
* ูููู ุชุดุบููู ูุงุญููุง ูุฏุนู BullMQ ุฃู caching.
* ูุฏุนู ุฃุฏูุงุช ูุซู Puppeteer, pdf.js-dist, Tesseract OCR.
* ุชูุซูู ูุงูู ูุชุงุญ ูู README\_DEPLOY.md ุงููุฏููุฌ ููุง.

---

\[ุงูุชููุช ุงููููุฉ ุจูุฌุงุญ.]

---

ุชุญุจ ุฃุทูุนูู ุงููุณุฎุฉ ุฏู ูููู ุฌุฏูุฏ ุจุงุณู **PROJECT\_FULL\_DOCUMENTATION.md** ุนูุดุงู ุชุณุชุฎุฏููุง ูุจุงุดุฑุฉ ูุน ูุฑูููุ
